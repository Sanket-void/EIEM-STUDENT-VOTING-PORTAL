<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Voting — PRESIDENT</title>
  <style>
    :root{
      --panel-bg: rgba(255,255,255,0.92);
      --accent: #d0404f;
      --muted: #666;
      --card-border: #2f6b9a;
    }

    /* Background image (replace path if needed) */
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background-image: url('https://uploads.onecompiler.io/4437haxep/4436y2x5e/1000286408.jpg');
      background-size: cover;
      background-position: center;
      /* dim the background for readability */
      background-repeat: no-repeat;
      min-height:100vh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:40px;
      box-sizing:border-box;
    }

    /* translucent main container */
    .container{
      width:980px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(128,128,128,0.80));
      border:3px solid rgba(0,0,0,0.12);
      padding:28px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.98);
      border-radius:6px;
    }

    h1{
      margin:0 0 18px 0;
      text-align:center;
      letter-spacing:2px;
      font-size:22px;
      font-weight:700;
      color:#0f2130;
    }

    /* layout: left column for list, right column for controls */
    .content{
      display:grid;
      grid-template-columns: 1fr 190px;
      gap:18px;
      align-items:start;
    }

    /* card list (three rows) */
    .candidates{
      display:flex;
      flex-direction:column;
      gap:18px;
      padding-right:8px;
    }

    .candidate-row{
      display:grid;
      grid-template-columns: 110px 1fr;
      gap:16px;
      align-items:center;
      padding:12px;
      border:2px solid rgba(47,107,154,0.18);
      border-radius:4px;
      background: var(--panel-bg);
    }

    .candidate-photo{
      width:110px;
      height:110px;
      border:2px solid #2f6b9a;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      background:#fff;
    }

    .candidate-photo img{
      max-width:100%;
      max-height:100%;
      display:block;
      object-fit:cover;
    }

    .candidate-info{
      font-size:15px;
      color:#111;
      line-height:1.25;
    }

    .candidate-title{
      font-weight:700;
      margin-bottom:6px;
    }

    .candidate-sub{
      color:var(--muted);
      font-size:14px;
    }

    /* Right column: radio options and navigation buttons */
    .controls{
      display:flex;
      flex-direction:column;
      gap:18px;
      align-items:flex-start;
    }

    .vote-option{
      display:flex;
      align-items:center;
      gap:10px;
      font-size:16px;
    }

    .vote-option input[type="radio"]{
      width:18px;
      height:18px;
    }

    .nav-buttons{
      margin-top:auto;
      display:flex;
      gap:12px;
    }

    button{
      padding:8px 14px;
      border-radius:6px;
      border:1px solid rgba(0,0,0,0.12);
      cursor:pointer;
      background:#eef7ff;
      font-weight:600;
    }

    button.primary{
      background:#2f6b9a;
      color:#fff;
      border-color:rgba(0,0,0,0.08);
    }

    /* small visual when candidate is selected */
    .candidate-row.selected{
      box-shadow: 0 6px 18px rgba(47,107,154,0.14);
      border-color: #2f6b9a;
      transform:translateY(-2px);
    }

    /* responsive */
    @media (max-width: 860px){
      .container{ width:100%; padding:18px; }
      .content{ grid-template-columns: 1fr; }
      .controls{ flex-direction:row; flex-wrap:wrap; align-items:center; }
      .nav-buttons{ margin-top:0; margin-left:auto; }
    }

  </style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="pageTitle">
    <h1 id="pageTitle">PRESIDENT</h1>

    <div class="content" id="votingContent">
      <!-- Left: candidate list -->
      <div class="candidates" id="candidateList">

        <label class="candidate-row" data-candidate="1">
          <div class="candidate-photo">
            <!-- replace with candidate images if available -->
            <img src="https://uploads.onecompiler.io/4437haxep/443jcuhtp/images%20(1).jpg" alt="Candidate 1 photo">
          </div>
          <div class="candidate-info">
            <div class="candidate-title">Candidate 1 — Dilip Ghosh</div>
            <div class="candidate-sub">Orange House</div>
          </div>
        </label>

        <label class="candidate-row" data-candidate="2">
          <div class="candidate-photo">
            <img src="https://uploads.onecompiler.io/4437haxep/443jcuhtp/green.jpg" alt="Candidate 2 photo">
          </div>
          <div class="candidate-info">
            <div class="candidate-title">Candidate 2 — Kunal Ghosh</div>
            <div class="candidate-sub">Green House</div>
          </div>
        </label>

        <label class="candidate-row" data-candidate="3">
          <div class="candidate-photo">
            <img src="https://uploads.onecompiler.io/4437haxep/443jcuhtp/Jana-Sena-Logo.jpg" alt="Candidate 3 photo">
          </div>
          <div class="candidate-info">
            <div class="candidate-title">Candidate 3 — Shatarup Ghosh</div>
            <div class="candidate-sub">Red House</div>
          </div>
        </label>

      </div>

      <!-- Right: voting controls -->
      <aside class="controls" aria-label="Voting controls">
        <!-- Not Voting option at top -->
        <label class="vote-option">
          <input type="radio" name="vp" value="not_voting" id="notVoting">
          <span>Not Voting</span>
        </label>

        <!-- We'll create a radio for each candidate (hidden visually) and sync selection -->
        <div id="candidateRadios" style="display:none;">
          <input type="radio" name="vp" value="1" id="cand1">
          <input type="radio" name="vp" value="2" id="cand2">
          <input type="radio" name="vp" value="3" id="cand3">
        </div>

        <!-- A friendly label showing current selection -->
        <div class="vote-option" aria-live="polite">
          <strong>Selection:</strong>&nbsp;<span id="selectionLabel">None</span>
        </div>

        <div class="nav-buttons" role="navigation" aria-label="Navigation buttons">
          <button type="button" id="backBtn">Back</button>
          <button type="button" id="nextBtn" class="primary">Next</button>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // tiny script to keep visual candidate cards and radio inputs synced

    const mainContainer = document.getElementById("votingContent");
    const isAuthenticated = localStorage.getItem("loggedInUser");

    if(!isAuthenticated) {
      window.location.href = "login.html";
    }



    const rows = document.querySelectorAll('.candidate-row');
    const radios = {
      '1': document.getElementById('cand1'),
      '2': document.getElementById('cand2'),
      '3': document.getElementById('cand3'),
      'not_voting': document.getElementById('notVoting')
    };
    const selectionLabel = document.getElementById('selectionLabel');

    // clicking a card selects the corresponding radio
    rows.forEach(row=>{
      row.addEventListener('click', ()=> {
        const id = row.dataset.candidate;
        // clear previous selected class
        rows.forEach(r=> r.classList.remove('selected'));
        row.classList.add('selected');

        // set the radio
        if (radios[id]) radios[id].checked = true;
        selectionLabel.textContent = row.querySelector('.candidate-title').textContent;
      });
    });

    // clicking "Not Voting" clears card selection
    radios['not_voting'].addEventListener('change', ()=> {
      if (radios['not_voting'].checked){
        rows.forEach(r=> r.classList.remove('selected'));
        selectionLabel.textContent = 'Not voting';
      }
    });

    // allow radios to update selection label if changed by keyboard
    Object.values(radios).forEach(radio=>{
      radio.addEventListener('change', ()=>{
        if (radio.checked){
          if (radio.value === 'not_voting'){
            selectionLabel.textContent = 'Not voting';
            rows.forEach(r=> r.classList.remove('selected'));
          } else {
            const row = document.querySelector('.candidate-row[data-candidate="'+radio.value+'"]');
            rows.forEach(r=> r.classList.remove('selected'));
            if (row){
              row.classList.add('selected');
              selectionLabel.textContent = row.querySelector('.candidate-title').textContent;
            }
          }
        }
      });
    });

    // demo back/next
    document.getElementById('backBtn').addEventListener('click', ()=> alert('Back pressed'));
    document.getElementById('nextBtn').addEventListener('click', ()=>{
      const chosen = document.querySelector('input[name="vp"]:checked');
      if (!chosen){
        alert('Please choose a candidate or Not Voting before proceeding.');
        return;
      }
      alert('You selected: ' + (chosen.value === 'not_voting' ? 'Not voting' : 'Candidate ' + chosen.value));
      // here you'd submit the form or move to next step
    });
  </script>
</body>
</html>
